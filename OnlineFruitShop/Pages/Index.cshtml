@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<style>
    div.s_quantity_wanted.qty_wrap {
        width: 100%;
    }

    .bootstrap-touchspin, .st_sticker, .swiper-wrapper .btn, .swiper-wrapper .row, .variant-links a {
        box-sizing: border-box;
    }

    .input-group-btn {
        position: relative;
        font-size: 0;
        white-space: nowrap;
    }

        .input-group .form-control:not(:first-child):not(:last-child), .input-group-addon:not(:first-child):not(:last-child), .input-group-btn:not(:first-child):not(:last-child) {
            border-radius: 0;
        }
</style>

<!--Start Slider-->
<section id="home-section" class="hero">
    <div class="home-slider owl-carousel">
        <div class="slider-item" style="background-image: url(../Shop/pics/bg_1.jpg);">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                    <div class="col-md-12 ftco-animate text-center">
                        <h1 class="mb-2">تهیه میوه و سبزیجات تازه</h1>
                        <h2 class="subheading mb-4">میوه و سبزیجات ارگانیک</h2>
                        <p><a href="#" class="btn btn-primary">مشاهده جزییات</a></p>
                    </div>

                </div>
            </div>
        </div>

        <div class="slider-item" style="background-image: url(../Shop/pics/bg_2.jpg);">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                    <div class="col-sm-12 ftco-animate text-center">
                        <h1 class="mb-2">میوه های 100 درصد تازه و ارگانیک</h1>
                        <h2 class="subheading mb-4">تهیه میوه و سبزیجات ارگانیک</h2>
                        <p><a href="#" class="btn btn-primary">مشاهده جزییات</a></p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>
<!--End Slider-->
<!--Tozihat-->
<section class="ftco-section">
    <div class="container">
        <div class="row no-gutters ftco-services">
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-1 active d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-shipped"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">ارسال رایگان</h3>
                        <span>برای سفارش های بالای 100 هزارتومان</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-2 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-diet"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">تازگی محصولات</h3>
                        <span>بسته بندی مناسب</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-3 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-award"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">کیفیت برتر</h3>
                        <span>محصولات با کیفیت</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-4 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-customer-service"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">پشتیبانی</h3>
                        <span>پشتیبانی 24 ساعته</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--End Tozihat-->



<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center mb-3 pb-3">
            <div class="col-md-12 heading-section text-center ftco-animate">

                <h2 class="mb-4">سرزمین میوه</h2>
                <p>پیشنهاد ما به شما</p>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            @foreach (var item in Model.products)
            {
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card">
                        <img src="/images/@item.ImageUrl" class="card-img-top" alt="@item.Name">
                        <div class="card-body text-center">
                            <h5 class="card-title">@item.Name</h5>
                            <p class="card-text text-muted">
                                قیمت: <strong>@item.Price تومان</strong>
                            </p>
                            <form method="post" asp-page-handler="AddToCart">
                                <input type="hidden" name="id" value="@item.Id" />
                                <div class="d-flex align-items-center">
                                    <button type="button" class="btn btn-outline-success btn-increment" data-id="@item.Id">+</button>
                                    <input type="number" id="counter-@item.Id" name="quantity" value="0" readonly style="width: 50px; text-align: center;" />
                                    <button type="button" class="btn btn-outline-warning btn-decrement" data-id="@item.Id">-</button>
                                </div>
                                <button type="submit" class="btn btn-primary  text-center mt-2" style="font-size:13px">افزودن به سبد خرید</button>
                            </form>
                          @*   <a href="#" class="add-to-cart btn btn-primary btn-sm add-to-cart" data-id="@item.Id">اضافه به سبد خرید</a> *@
                             </div>
                       
                    </div>
                </div>
              @*   <div class="product">
                    <div class="d-flex justify-content-center align-items-center">
                        <!-- دکمه افزایش -->
                        <button type="button" class="btn btn-outline-success btn-increment" data-id="@item.Id" style="width:30px">+</button>

                        <!-- شمارنده -->
                        <input type="number" id="counter-@item.Id" class="form-control text-center mx-2" value="1" readonly style="width: 50px;">

                        <!-- دکمه کاهش -->
                        <button type="button" class="btn btn-outline-warning btn-decrement" data-id="@item.Id" style="width:30px">-</button>
                    </div>

                    <!-- دکمه ارسال به سبد خرید -->
                    <a href="#" class="add-to-cart d-flex justify-content-center align-items-center text-center" data-id="@item.Id">
                        <i class="ion-ios-cart"></i>
                    </a>
                </div> *@
            }

          @*   @foreach (var item in Model.products)
            {
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card">
                        <img src="/images/@item.ImageUrl" class="card-img-top" alt="@item.Name">
                        <div class="card-body text-center">
                            <h5 class="card-title">@item.Name</h5>
                            <p class="card-text text-muted">
                                قیمت: <strong>@item.Price تومان</strong>
                            </p>
                            <div class="d-flex justify-content-center align-items-center mb-3">
                                <button type="button" class="btn btn-outline-success btn-sm me-2 increment"  data-id="@item.Id">+</button>
                                <input type="number" id="counter-@item.Id"  class="form-control text-center" value="0" readonly style="width: 60px;">
                                <button type="button" class="btn btn-outline-warning btn-sm ms-2 decrement"  data-id="@item.Id">-</button>
                            </div>
                            <a href="#" class="add-to-cart btn btn-primary btn-sm add-to-cart" data-id="@item.Id">اضافه به سبد خرید</a>
                        </div>
                    </div>
                </div>
            } *@
            @*  @foreach (var item in Model.products)
            {
                <div class="col-md-6 col-lg-3 ftco-animate">
                    <div class="product">
                        <a href="#" class="img-prod">
                            <img class="img-fluid" src="/images/@item.ImageUrl" alt="Colorlib Template">
                            <span class="status">30%</span>
                            <div class="overlay"></div>
                        </a>
                        <div class="text py-3 pb-4 px-3 text-center">
                            <h3><a href="#">@item.Name</a></h3>
                            <div class="d-flex">
                                <div class="col">
                                    <button type="button" class="btn btn-outline-success " id="increment"  style="width:15px">+</button>
                                </div>
                                <div class="col">

                                    <input type="number" id="counter" style="width:10px" value="0" readonly/>

                                </div>
                                <div class="col">
                                    <button type="button" class="btn btn-outline-warning" id="decrement" style="width:15px">-</button>
                                </div>
                            </div>
                            <div class="d-flex">
                                <div class="pricing">
                                    <p class="price">
                                        <span class="mr-2 price-dc"> @item.Price</span>
                                        <span class="price-dc"> تومان</span>
                                        <span class="price-sale"> 80.00</span>
                                        <span class="price-sale"> تومان</span>
                                    </p>

                                </div>
                            </div>
                            <div class="bottom-area d-flex px-3">
                                <div class="m-auto d-flex">
                                    @* <a href="#"
                                   class="add-to-cart d-flex justify-content-center align-items-center text-center">
                                    <span><i class="ion-ios-menu"></i></span>
                                </a> *@
            @*    <a asp-page-handler="AddToCart" class="add-to-cart d-flex justify-content-center align-items-center text-center" asp-route-ID="@item.Id">
                                        <i class=" ion-ios-cart"></i>
                                    </a>
                                    <a href="#" class="buy-now d-flex justify-content-center align-items-center mx-1">
                                        <span><i class="ion-ios-menu"></i></span>
                                    </a>
                                    <a href="#" class="heart d-flex justify-content-center align-items-center ">
                                        <span><i class="ion-ios-heart"></i></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> *@
            @*  }  *@


        </div>
    </div>
</section>

<section class="ftco-section img" style="background-image: url(./Shop/pics//bg_3.jpg);">
    <div class="container">
        <div class="row justify-content-first">
            <div class="col-md-6 heading-section ftco-animate deal-of-the-day ftco-animate">
            </div>
        </div>
    </div>
</section>
<!--nazar Sanji-->
<!--End Nazarsanji-->
<hr>

<section class="ftco-section ftco-partner">
    <div class="container">
        <div class="row">
            <div class="col-sm ftco-animate">
                <a href="#" class="partner">
                    <img src="./Shop/pics//partner-1.png" class="img-fluid"
                         alt="Colorlib Template">
                </a>
            </div>
            <div class="col-sm ftco-animate">
                <a href="#" class="partner">
                    <img src="./Shop/pics//partner-2.png" class="img-fluid"
                         alt="Colorlib Template">
                </a>
            </div>
            <div class="col-sm ftco-animate">
                <a href="#" class="partner">
                    <img src="./Shop/pics//partner-3.png" class="img-fluid"
                         alt="Colorlib Template">
                </a>
            </div>
            <div class="col-sm ftco-animate">
                <a href="#" class="partner">
                    <img src="./Shop/pics//partner-4.png" class="img-fluid"
                         alt="Colorlib Template">
                </a>
            </div>
            <div class="col-sm ftco-animate">
                <a href="#" class="partner">
                    <img src="./Shop/pics//partner-5.png" class="img-fluid"
                         alt="Colorlib Template">
                </a>
            </div>
        </div>
    </div>
</section>

<!--Start Subscribe-->
<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
    <div class="container py-4">
    </div>
</section>
<!--End Subscribe-->
@section Scripts
{
  
     <script>
        var message = '@TempData["SuccessMessage"]';
        if (message) {
            toastr.success(message, 'موفق');
        }
         var message = '@TempData["Error"]';
        if (message) {
            toastr.error(message, 'ناموفق');
        }

    </script>

    <script>
                    $(document).ready(function () {
            // افزایش مقدار
            $(document).on("click", ".btn-increment", function () {
                const id = $(this).data("id");
                const counterInput = $(`#counter-${id}`);
                let currentValue = parseInt(counterInput.val());
                counterInput.val(currentValue + 1);
            });

            // کاهش مقدار
            $(document).on("click", ".btn-decrement", function () {
                const id = $(this).data("id");
                const counterInput = $(`#counter-${id}`);
                let currentValue = parseInt(counterInput.val());
                if (currentValue > 0) {
                    counterInput.val(currentValue - 1);
                }
            });
        });

    </script>
}
